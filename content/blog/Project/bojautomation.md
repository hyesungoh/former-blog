---
title: '[ë°±ì¤€ ìë™ ì±„ì  í”„ë¡œê·¸ë¨] - python, selenium, bs4'
date: 2021-03-24 00:24:00
category: 'Project'
draft: false
---

í•™ê³¼ ì¡°êµë¥¼ ìˆ˜í–‰í•˜ë©° ê°œë°œí•œ, **ë°±ì¤€ ì±„ì  ìë™í™” í”„ë¡œê·¸ë¨** ì…ë‹ˆë‹¤.

## ê°œë°œë„êµ¬

<img src="https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white" alt="python"/>

<img src="https://img.shields.io/badge/Selenium-43B02A?style=flat-square&logo=Selenium&logoColor=white" alt="selenium"/>

íŒŒì´ì¬ê³¼ í•¨ê»˜ ë™ì  ì›¹ í¬ë¡¤ë§ì„ ìœ„í•´ Seleniumì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

## í•´ê²°í•˜ê³ ì í•œ ë¬¸ì œ

ì œê°€ ì²˜í•œ ìƒí™©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. ë§¤ì£¼ 2ë¬¸ì œì”© ë°±ì¤€ ì¶œì²˜ì˜ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ ì œì¶œ
2. í•´ë‹¹ ê°•ì˜ ìˆ˜ê°•ìƒì€ ì•½ 40ëª…
3. ë°±ì¤€ ì •ë‹µ ê¸°ì¤€ìœ¼ë¡œ ì±„ì 
4. ì±„ì  ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ êµë‚´ ì‹œìŠ¤í…œì— ì…ë ¥

ìœ„ ê³¼ì •ì„ ìˆ˜ì‘ì—…ìœ¼ë¡œ ìˆ˜í–‰í•˜ê²Œë  ì‹œ ë§¤ì£¼ 1ì‹œê°„ 30ë¶„ ì´ìƒì˜ ì‹œê°„ì´ ì†Œëª¨ë˜ì–´

ìµœì†Œí•œ 3ë²ˆê¹Œì§€ ìë™í™”ë¥¼ í†µí•´ ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚¤ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.

## ê²°ê³¼

> ê²°ê³¼ë¬¼ [Youtube Link](https://youtu.be/jMBtbVg0Abw)

- ë™ì  í¬ë¡¤ë§

![ë™ì  í¬ë¡¤ë§](https://user-images.githubusercontent.com/26461307/112181418-c7550c00-8c3f-11eb-87e3-271008b5f301.png)

- ì±„ì ê²°ê³¼ CSV íŒŒì¼ë¡œ ì €ì¥

![ì±„ì ê²°ê³¼](https://user-images.githubusercontent.com/26461307/112181432-ca4ffc80-8c3f-11eb-845d-4d7cc88318f2.png)

ìœ„ì—ì„œ ê¸°ìˆ í•œ ê²ƒì²˜ëŸ¼ Pythonê³¼ Seleniumì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

ë¨¼ì € í•´ë‹¹ í”„ë¡œê·¸ë¨ì˜ í™•ì •ì„±ì„ ê³ ë ¤í•´ `ì´ë¦„(í•™ë²ˆ) - ë°±ì¤€ ID`ë¡œ ì´ë£¨ì–´ì§„ csv íŒŒì¼ì„ ì½ì—ˆìœ¼ë©°, ë™ì  í¬ë¡¤ë§ì„ í†µí•´ ë§¤ í•™ìƒë“¤ì˜ ê²°ê³¼ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

ìœ„ `4ë²ˆ`ì˜ ì…ë ¥ì„ ìœ„í•´ ìµœì¢…ì ìœ¼ë¡œ csv íŒŒì¼ë¡œì¨ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

í•´ë‹¹ í”„ë¡œê·¸ë¨ì„ ê°œë°œí•¨ìœ¼ë¡œì¨ ë§¤ì£¼ ìµœëŒ€ 1ì‹œê°„ 20ë¶„, í•œ í•™ê¸°ì— ì•½ 18ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

<details>

<summary>

## ğŸ‘‰ êµ¬í˜„ ê³¼ì • ë³´ê¸°

</summary>

- `ì´ë¦„(í•™ë²ˆ), ë°±ì¤€ ID`ë¡œ ì´ë£¨ì–´ì§„ CSV íŒŒì¼ì„ ì½ì–´ ë”•ì…”ë„ˆë¦¬í™”í•˜ì—¬ ë°˜í™˜

```python
def return_student_information():
    file = open(CSV_FILE_NAME, "r", encoding='utf-8')
    reader = csv.reader(file)

    student_information = {}
    for line in reader:
        if line[0] == "ì„±ëª…": continue
        student_information[line[0]] = line[1]

    file.close()
    # student_information = {"ì˜¤í˜œì„±": "hs980414", "í•œìŠ¬í¬": "3021062"}
    return student_information
```

- ë°±ì¤€ IDë¥¼ ì´ìš©í•´ ë°±ì¤€ í”„ë¡œí•„ë¡œ ì´ë™ í›„ ì£¼ì°¨ë³„ í†µê³¼ ì—¬ë¶€, ê° ë¬¸ì œë³„ í’€ì—ˆëŠ” ì§€ í™•ì¸í•˜ì—¬ ë°˜í™˜

```python
def grading(student_id, problems):
    driver.get(BOJ_URL + student_id)
    page_source = BeautifulSoup(driver.page_source, "html.parser")s

    correct_div = page_source.find("div", {"class": "panel-body"})
    students_answers = []
    for answer in correct_div.findAll("a"):
        students_answers.append(answer.get_text())

    is_passed = 'O'
    is_solve_by_problems = []

    for problem in problems:
        if problem not in students_answers:
            is_passed = 'X'
            is_solve_by_problems.append('X')
        else: is_solve_by_problems.append('O')

    return [is_passed, is_solve_by_problems]
```

- ì„±ëª…, ë°±ì¤€ ID, ì œì¶œ ê²°ê³¼, ê° ë¬¸ì œë³„ ê²°ê³¼ë¥¼ CSV íŒŒì¼ë¡œ ì €ì¥

```python
def write_csv():
    def write_base():
        csv_infomation = current_date + "/" + problems[0] + "/" + problems[1]
        writer.writerow([csv_infomation])
        writer.writerow(["ì„±ëª…", "ë°±ì¤€ ID", "ì œì¶œ ê²°ê³¼"] + problems)

    problems = input("ì´ë²ˆ ì£¼ ì œì¶œ ë¬¸ì œ 'ê³µë°±ìœ¼ë¡œ ë‚˜ëˆ„ì–´' ì…ë ¥í•˜ì„¸ìš” : ").split()
    file = open(GRADING_FILE_NAME, "w", newline='')
    writer = csv.writer(file)
    write_base()

    students_information = return_student_information()
    total_students_length = len(students_information)

    for index, student_information in enumerate(students_information.items()):
        student_name, student_id = student_information

        if student_id == "ë¯¸ì œì¶œ":
            writer.writerow([student_name, "ID ë¯¸ì œì¶œ"])
        else:
            is_passed, is_solve_by_problems = grading(student_id, problems)
            writer.writerow([student_name, student_id, is_passed] + is_solve_by_problems)
        print("%d / %d ------- %s í•™ìƒ : %s" %(index+1, total_students_length, student_name, is_passed))
    file.close()

```

</details>

## ê²ªì—ˆë˜ ì´ìŠˆ

- Selenium chrome driver version
  - ë¡œì»¬ [chrome ë²„ì „ì— ë§ëŠ” driver](https://chromedriver.chromium.org/downloads)ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ìˆ˜ì •

## ë§ˆì¹˜ë©°

ì œê°€ ì§ì ‘ ë†“ì¸ ìƒí™©ì„ ìë™í™” í”„ë¡œê·¸ë¨ì´ë€ ì¢…ëª©ìœ¼ë¡œ ê°œì„ í•˜ë©´ì„œ ë˜ ë‹¤ë¥¸ ê°œë°œì˜ ì¬ë¯¸ë¥¼ ëŠë‚„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ìµœëŒ€í•œ ë¹ ë¥´ê²Œ ê°œë°œí•˜ê³ ì ë‚ ê°œë°œì„ í•œ ê°ì´ ì—†ì§„ ì•Šì§€ë§Œ, í° ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ì§€ ì•Šê³  ì¡°êµ ì—­í• ì„ ë§ˆì¹  ë•Œê¹Œì§€ ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í•˜ì—¬ ê¸°ë¶„ ì¢‹ì•˜ë˜ ê²½í—˜ì´ì˜€ìŠµë‹ˆë‹¤.

ì œê°€ ì ˆì•½í•œ ì‹œê°„ì€ ì•½ 18ì‹œê°„ ì •ë„ì§€ë§Œ, ì•ìœ¼ë¡œ ê°™ì€ ê³¼ëª©ì˜ ì¡°êµ ì—­í• ì„ ìˆ˜í–‰í•  í›„ì„ìë¶„ë“¤ì˜ ì‹œê°„ ë˜í•œ ì ˆì•½í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°ì— ì¸ê³„í•  ê³„íšì…ë‹ˆë‹¤.

#### [ê¹ƒí—ˆë¸Œì—ì„œ ë³´ê¸°](https://github.com/hyesungoh/BOJ_grading_automation)
